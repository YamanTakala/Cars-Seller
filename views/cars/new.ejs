<%- include('../partials/header') %>

<div class="container py-5">
    <div class="row">
        <div class="col-lg-8">
            <div class="card shadow">
                <div class="card-body p-4">
                    <h2 class="text-center mb-4">
                        <i class="fas fa-plus-circle me-2"></i>
                        إضافة سيارة جديدة
                    </h2>
                    
                    <form method="POST" action="/cars/new" enctype="multipart/form-data">
                        <!-- معلومات أساسية -->
                        <div class="mb-4">
                            <h5 class="text-primary">
                                <i class="fas fa-info-circle me-2"></i>
                                المعلومات الأساسية
                            </h5>
                            <hr>
                            
                            <div class="mb-3">
                                <label for="title" class="form-label">عنوان الإعلان *</label>
                                <input type="text" class="form-control" id="title" name="title" maxlength="100" required>
                                <div class="form-text">مثال: تويوتا كامري 2020 فل كامل</div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="description" class="form-label">وصف السيارة *</label>
                                <textarea class="form-control" id="description" name="description" rows="4" maxlength="1000" required></textarea>
                                <div class="form-text">اكتب وصفاً مفصلاً عن السيارة وحالتها</div>
                            </div>
                        </div>
                        
                        <!-- تفاصيل السيارة -->
                        <div class="mb-4">
                            <h5 class="text-primary">
                                <i class="fas fa-car me-2"></i>
                                تفاصيل السيارة
                            </h5>
                            <hr>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="brand" class="form-label">الماركة *</label>
                                    <select class="form-select" id="brand" name="brand" required>
                                        <option value="">اختر الماركة</option>
                                        <option value="تويوتا">تويوتا</option>
                                        <option value="هوندا">هوندا</option>
                                        <option value="نيسان">نيسان</option>
                                        <option value="هيونداي">هيونداي</option>
                                        <option value="كيا">كيا</option>
                                        <option value="مرسيدس">مرسيدس</option>
                                        <option value="BMW">BMW</option>
                                        <option value="أودي">أودي</option>
                                        <option value="فولكس واجن">فولكس واجن</option>
                                        <option value="فورد">فورد</option>
                                        <option value="شيفروليه">شيفروليه</option>
                                        <option value="مازدا">مازدا</option>
                                        <option value="ميتسوبيشي">ميتسوبيشي</option>
                                        <option value="سوزوكي">سوزوكي</option>
                                        <option value="أخرى">أخرى</option>
                                    </select>
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <label for="model" class="form-label">الموديل *</label>
                                    <input type="text" class="form-control" id="model" name="model" required>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label for="year" class="form-label">سنة الصنع *</label>
                                    <input type="number" class="form-control" id="year" name="year" 
                                           min="1990" max="<%= new Date().getFullYear() + 1 %>" required>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="mileage" class="form-label">المسافة المقطوعة (كم) *</label>
                                    <input type="number" class="form-control" id="mileage" name="mileage" min="0" required>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="color" class="form-label">اللون *</label>
                                    <input type="text" class="form-control" id="color" name="color" required>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label for="condition" class="form-label">حالة السيارة *</label>
                                    <select class="form-select" id="condition" name="condition" required>
                                        <option value="">اختر الحالة</option>
                                        <option value="جديد">جديد</option>
                                        <option value="مستعمل">مستعمل</option>
                                    </select>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="transmission" class="form-label">ناقل الحركة *</label>
                                    <select class="form-select" id="transmission" name="transmission" required>
                                        <option value="">اختر نوع ناقل الحركة</option>
                                        <option value="أوتوماتيك">أوتوماتيك</option>
                                        <option value="يدوي">يدوي</option>
                                    </select>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="fuelType" class="form-label">نوع الوقود *</label>
                                    <select class="form-select" id="fuelType" name="fuelType" required>
                                        <option value="">اختر نوع الوقود</option>
                                        <option value="بنزين">بنزين</option>
                                        <option value="ديزل">ديزل</option>
                                        <option value="هجين">هجين</option>
                                        <option value="كهربائي">كهربائي</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="engineSize" class="form-label">حجم المحرك *</label>
                                <input type="text" class="form-control" id="engineSize" name="engineSize" 
                                       placeholder="مثال: 2.0 لتر" required>
                            </div>
                        </div>
                        
                        <!-- السعر والعملة -->
                        <div class="mb-4">
                            <h5 class="text-primary">
                                <i class="fas fa-dollar-sign me-2"></i>
                                السعر
                            </h5>
                            <hr>
                            
                            <div class="row">
                                <div class="col-md-8 mb-3">
                                    <label for="price" class="form-label">السعر *</label>
                                    <input type="number" class="form-control" id="price" name="price" min="0" step="0.01" required>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="currency" class="form-label">العملة *</label>
                                    <select class="form-select" id="currency" name="currency" required>
                                        <option value="ريال سعودي">ريال سعودي</option>
                                        <option value="درهم إماراتي">درهم إماراتي</option>
                                        <option value="دينار كويتي">دينار كويتي</option>
                                        <option value="دولار أمريكي">دولار أمريكي</option>
                                        <option value="يورو">يورو</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- الموقع -->
                        <div class="mb-4">
                            <h5 class="text-primary">
                                <i class="fas fa-map-marker-alt me-2"></i>
                                الموقع
                            </h5>
                            <hr>
                            
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label for="country" class="form-label">البلد *</label>
                                    <select class="form-select" id="country" name="country" required>
                                        <option value="">اختر البلد</option>
                                        <option value="السعودية">السعودية</option>
                                        <option value="الإمارات">الإمارات</option>
                                        <option value="الكويت">الكويت</option>
                                        <option value="قطر">قطر</option>
                                        <option value="البحرين">البحرين</option>
                                        <option value="عُمان">عُمان</option>
                                        <option value="الأردن">الأردن</option>
                                        <option value="لبنان">لبنان</option>
                                        <option value="مصر">مصر</option>
                                        <option value="المغرب">المغرب</option>
                                    </select>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="city" class="form-label">المدينة *</label>
                                    <input type="text" class="form-control" id="city" name="city" required>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="district" class="form-label">الحي *</label>
                                    <input type="text" class="form-control" id="district" name="district" required>
                                </div>
                            </div>
                        </div>
                        
                        <!-- المميزات الإضافية -->
                        <div class="mb-4">
                            <h5 class="text-primary">
                                <i class="fas fa-star me-2"></i>
                                المميزات الإضافية
                            </h5>
                            <hr>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" value="تكييف" name="features" id="ac">
                                        <label class="form-check-label" for="ac">تكييف</label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" value="نظام صوتي" name="features" id="audio">
                                        <label class="form-check-label" for="audio">نظام صوتي</label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" value="كاميرا خلفية" name="features" id="camera">
                                        <label class="form-check-label" for="camera">كاميرا خلفية</label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" value="سنسر" name="features" id="sensor">
                                        <label class="form-check-label" for="sensor">سنسر</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" value="جنوط" name="features" id="wheels">
                                        <label class="form-check-label" for="wheels">جنوط</label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" value="فتحة سقف" name="features" id="sunroof">
                                        <label class="form-check-label" for="sunroof">فتحة سقف</label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" value="مقاعد جلد" name="features" id="leather">
                                        <label class="form-check-label" for="leather">مقاعد جلد</label>
                                    </div>
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" value="GPS" name="features" id="gps">
                                        <label class="form-check-label" for="gps">نظام GPS</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- الصور -->
                        <div class="mb-4">
                            <h5 class="text-primary">
                                <i class="fas fa-images me-2"></i>
                                الصور *
                            </h5>
                            <hr>
                            
                            <div class="mb-3">
                                <label for="images" class="form-label">اختر صور السيارة (حد أقصى 10 صور)</label>
                                <input type="file" class="form-control" id="images" name="images" 
                                       multiple accept="image/*" onchange="previewImages(this)" required>
                                <div class="form-text">يُفضل رفع صور واضحة من جميع الزوايا</div>
                            </div>
                            
                            <div id="imagePreview" class="row"></div>
                        </div>
                        
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-plus me-2"></i>
                                إضافة السيارة
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- نصائح -->
        <div class="col-lg-4">
            <div class="card shadow">
                <div class="card-body">
                    <h5 class="text-primary">
                        <i class="fas fa-lightbulb me-2"></i>
                        نصائح لإعلان ناجح
                    </h5>
                    <hr>
                    
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            اكتب عنواناً واضحاً ومختصراً
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            أضف وصفاً مفصلاً وصادقاً
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            ارفع صوراً واضحة وعالية الجودة
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            حدد السعر بشكل واقعي
                        </li>
                        <li class="mb-2">
                            <i class="fas fa-check text-success me-2"></i>
                            اذكر جميع المميزات والعيوب
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="card shadow mt-4">
                <div class="card-body">
                    <h5 class="text-warning">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        تنبيه مهم
                    </h5>
                    <hr>
                    
                    <p class="small text-muted">
                        يرجى التأكد من صحة جميع المعلومات المدخلة. 
                        الإعلانات المضللة أو الوهمية سيتم حذفها فوراً.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<%- include('../partials/footer-content') %>
<%- include('../partials/footer') %>
